<svg xmlns="http://www.w3.org/2000/svg" width="900" height="520" font-family="Segoe UI, Arial, sans-serif">
  <defs>
    <style>
      .title { font-size: 18px; font-weight: 600; }
      .label { font-size: 13px; }
      .box { rx: 10; ry: 10; stroke: #444; stroke-width: 1.2; }
      .group { rx: 12; ry: 12; stroke: #999; stroke-width: 1.4; fill: #f9fafb; }
      .arrow { stroke: #555; stroke-width: 1.6; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="10" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#555"/>
    </marker>
  </defs>

  <!-- Title -->
  <text x="450" y="30" text-anchor="middle" class="title">WarehouseOne – Internal Ordering System</text>

  <!-- User group -->
  <rect x="40" y="70" width="200" height="100" class="group" fill="#eef2ff"/>
  <text x="140" y="95" text-anchor="middle" class="label" font-weight="600">Users</text>
  <rect x="55" y="110" width="80" height="45" class="box" fill="#bfdbfe"/>
  <text x="95" y="135" text-anchor="middle" class="label">Store users</text>
  <rect x="145" y="110" width="80" height="45" class="box" fill="#bfdbfe"/>
  <text x="185" y="135" text-anchor="middle" class="label">Warehouse staff</text>

  <!-- App group -->
  <rect x="280" y="70" width="560" height="210" class="group" fill="#ecfdf5"/>
  <text x="560" y="95" text-anchor="middle" class="label" font-weight="600">Application Layer – Dockerised Flask App</text>

  <!-- Flask app box -->
  <rect x="340" y="120" width="210" height="90" class="box" fill="#a7f3d0"/>
  <text x="445" y="145" text-anchor="middle" class="label" font-weight="600">WarehouseOne Web</text>
  <text x="445" y="165" text-anchor="middle" class="label">Flask views + services</text>
  <text x="445" y="185" text-anchor="middle" class="label">Ordering, picking, packing flows</text>

  <!-- RBAC / auth box -->
  <rect x="580" y="120" width="210" height="90" class="box" fill="#fef9c3"/>
  <text x="685" y="145" text-anchor="middle" class="label" font-weight="600">Auth &amp; RBAC</text>
  <text x="685" y="165" text-anchor="middle" class="label">User accounts &amp; roles</text>
  <text x="685" y="185" text-anchor="middle" class="label">Store / warehouse / admin</text>

  <!-- Internal services row -->
  <rect x="340" y="225" width="450" height="40" class="box" fill="#e5e7eb"/>
  <text x="565" y="250" text-anchor="middle" class="label">
    Internal services: stock, products, orders, reporting
  </text>

  <!-- Docker compose boundary -->
  <rect x="60" y="320" width="780" height="150" class="group" fill="#f9fafb"/>
  <text x="450" y="345" text-anchor="middle" class="label" font-weight="600">Docker Compose Stack</text>

  <!-- Web container -->
  <rect x="90" y="360" width="260" height="80" class="box" fill="#dbeafe"/>
  <text x="220" y="385" text-anchor="middle" class="label" font-weight="600">web</text>
  <text x="220" y="405" text-anchor="middle" class="label">Flask app + Gunicorn</text>

  <!-- DB container -->
  <rect x="360" y="360" width="260" height="80" class="box" fill="#fee2e2"/>
  <text x="490" y="385" text-anchor="middle" class="label" font-weight="600">db</text>
  <text x="490" y="405" text-anchor="middle" class="label">PostgreSQL</text>

  <!-- (Optional) reverse proxy -->
  <rect x="630" y="360" width="180" height="80" class="box" fill="#e0f2fe"/>
  <text x="720" y="385" text-anchor="middle" class="label" font-weight="600">reverse-proxy (opt.)</text>
  <text x="720" y="405" text-anchor="middle" class="label">Nginx / Traefik</text>

  <!-- Docker network label -->
  <text x="450" y="455" text-anchor="middle" class="label">Shared Docker network – env vars, secrets, volumes</text>

  <!-- Future AWS note -->
  <text x="450" y="490" text-anchor="middle" class="label" fill="#6b7280">
    Future: migrate stack to AWS (ECS Fargate / RDS / ALB) while keeping same core architecture
  </text>

  <!-- Arrows -->
  <line x1="240" y1="145" x2="340" y2="165" class="arrow"/>
  <line x1="445" y1="210" x2="445" y2="360" class="arrow"/>
  <line x1="685" y1="210" x2="685" y2="360" class="arrow"/>
</svg>
